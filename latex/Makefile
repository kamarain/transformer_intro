# Dead simple Makefile for pdflatex and biber in Linux

# document target basename
TARGET   := intro

# Autogenerated source files, like pdf-figures created with
# gnuplot scripts. Target 'distclean' will delete files listed here.
AUTOTGT  :=


## The following should be ok as is.

# document source files
SRC      := $(wildcard *.tex) $(wildcard *.bib) $(AUTOTGT)

# programs
SHELL    := /bin/bash
PDFLATEX := pdflatex
GNUPLOT  := gnuplot

all: $(TARGET).pdf

clean:
	rm -f *.{aux,log,out,bbl,bcf,blg,run.xml} *~

distclean: clean
	rm -f $(TARGET).pdf $(AUTOTGT)

view: $(TARGET).pdf
	evince $(TARGET).pdf &

bib: $(SRC)
	biber $(TARGET)

%.pdf: %.tex $(SRC)
	$(PDFLATEX) $<

.SUFFIXES:
.PRECIOUS: %.pdf
.DELETE_ON_ERROR: %.pdf
.PHONY: all clean distclean view
